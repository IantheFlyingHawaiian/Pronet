    {% extends "base.html" %}
    {% load staticfiles %}
    {% load thumbnail %}

    {% block title %}{{ block.super }}Search{% endblock %}

    {% block container %}

    <!-- div for search bar text -->
    <div id="wrap">
        <form action="" onsubmit="return false">
            <input id="searchtext" name="searchByName" type="text" placeholder="Search by name" name=\"SearchByName\"/>
            <input id="submit" value="" onclick=search() type="submit" />
        </form>
    </div>

    <div id="firstDiv" class=footer style="text-align:justify">

    <!-- div for search results list -->
    <div>
        <ul id="userList"></ul>
    </div>

    <style>

        .user-list {
            list-style-type: none;
            display: inline-block;



            width: 40%;
            height: 150px;
            background-color: #FFFFFF;
            margin:10px;
        }

        .user-list img {
            float:left;
            margin-top: 10px;
            margin-left: 10px;
        }

        .user-list a {
            position: relative;
            top: 30px;
            left: 10px;
            font-size:1.5em;
        }
    </style>

    <!-- script functions -->
    <script>
        var array_usernames = new Array(10);
        var array_userlinks = new Array(10);
        var array_userPics = new Array(10);
        var count = 0;

        function addUser(userName, userlink, userPic){
            array_usernames[count] = userName;
            array_userlinks[count] = userlink;
            array_userPics[count] = userPic;
            count++;
        }

        function search() {

            var $list = $("#userList");
            var foundUser = false;

            <!-- update user list function -->
            <!-- grab the username inside of the search text -->
            var name_search = document.getElementById('searchtext').value;

            <!-- set search text back to null -->
            document.getElementById('searchtext').value = "";

            if(name_search != ""){
                <!-- cycle through all users -->
                for (var i = 0; i < array_usernames.length; i++) {

                    //Each cycle grab a new user and attach to tempuser
                    var tempuser = array_usernames[i];

                    if(tempuser != null){
                        var tempuser_lower = tempuser.toLowerCase();
                        var namesearch_lower = name_search.toLowerCase();

                        // Check if name_search is a substring of tempuser
                        if (tempuser_lower.includes(namesearch_lower) == true) {

                            var tempuserlink = array_userlinks[i];

                            var tempphoto = array_userPics[i];
                            if(tempphoto == "/media/"){
                                tempphoto = "/media/default_profile.png.140x140_q85_crop.png";
                            }


                            foundUser = true;


                            //$list.append("<li style='list-style: none;'><div>" + "<img id='" + tempuser
                            //        + "photo' class='img-circle img-responsive' src='" + tempphoto
                            //        + "' width='140' height='140'>" + "<a id='" + tempuser + "' href='"
                            //        + "/users/" + tempuserlink + "'>" + tempuser + "</a></div></li>");




                            $list.append("<li class='user-list'>"

                                    + "<a id='" + tempuser + "' href='" + "/users/"

                                    + tempuserlink + "'>" + "<img id='" + tempuser

                                    + "photo' class='img-circle img-responsive' src='" + tempphoto

                                    + "' width='130' height='130'>" + tempuser + "</a></li>");
                        }
                    }
                }
            }
        }
    </script>


    <!-- Add in all user objects to arrays -->
    {% if users %}
        <ul>
            {% for user in users %}
            <script>
                var userName = "{{ user.user.name }}";
                var userlink = "{{ user.slug }}";
                var userPic = "/media/" + "{{ user.picture }}";

                console.log(userName + "," + userPic);

                addUser(userName, userlink, userPic);
            </script>
            {% endfor %}
        </ul>
    {% endif %}

    <!-- div for search bar-->
    <style type="text/css">
        @import url(http://fonts.googleapis.com/css?family=Lato:100,300,400,700);

        body{
            background: #DDD;
            font-size: 15px;
        }
        #firstDiv{
            height:  360px;
        }
        #wrap{
            margin: 60px 20px;
            display: inline-block;
            position: relative;
            height: 150px;
            float: right;
            padding: 0;
            position: relative;
        }
        #p1{
            text-align: center;
            position: relative;
        }
        input[type="text"]{
            height: 50px;
            font-size: 40px;
            display: inline-block;
            font-family: "Lato";
            font-weight: 100;
            border: none;
            outline: none;
            color: #555;
            padding: 3px;
            padding-right: 60px;
            width: 0px;
            position: absolute;
            top: 0;
            right: 0;
            background: none;
            z-index: 3;
            transition: width .4s cubic-bezier(0.000, 0.795, 0.000, 1.000);
            cursor: pointer;
        }
        input[type="text"]:focus:hover{
            border-bottom: 1px solid #BBB;
        }
        input[type="text"]:focus {
            width: 700px;
            z-index: 1;
            border-bottom: 1px solid #BBB;
            cursor: text;
        }
        input[type="submit"]{
            height: 67px;
            width: 63px;
            display: inline-block;
            color:red;
            float: right;
            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADNQTFRFU1NT9fX1lJSUXl5e1dXVfn5+c3Nz6urqv7+/tLS0iYmJqampn5+fysrK39/faWlp////Vi4ZywAAABF0Uk5T/////////////////////wAlrZliAAABLklEQVR42rSWWRbDIAhFHeOUtN3/ags1zaA4cHrKZ8JFRHwoXkwTvwGP1Qo0bYObAPwiLmbNAHBWFBZlD9j0JxflDViIObNHG/Do8PRHTJk0TezAhv7qloK0JJEBh+F8+U/hopIELOWfiZUCDOZD1RADOQKA75oq4cvVkcT+OdHnqqpQCITWAjnWVgGQUWz12lJuGwGoaWgBKzRVBcCypgUkOAoWgBX/L0CmxN40u6xwcIJ1cOzWYDffp3axsQOyvdkXiH9FKRFwPRHYZUaXMgPLeiW7QhbDRciyLXJaKheCuLbiVoqx1DVRyH26yb0hsuoOFEPsoz+BVE0MRlZNjGZcRQyHYkmMp2hBTIzdkzCTc/pLqOnBrk7/yZdAOq/q5NPBH1f7x7fGP4C3AAMAQrhzX9zhcGsAAAAASUVORK5CYII=) center center no-repeat;
            text-indent: -10000px;
            border: none;
            position: absolute;
            top: 0;
            right: 0;
            z-index: 2;
            cursor: pointer;
            opacity: 0.4;
            transition: opacity .4s ease;
         }
         input[type="submit"]:hover{
             opacity: 0.8;
         }
    </style>
</div>
{% endblock %}